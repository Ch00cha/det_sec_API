import streamlit as st
from api_requests import request_to_det_sec_API

st.title('–î–µ—Ç–µ–∫—Ü–∏—è –ø–∞—Ä–æ–ª–µ–π –≤ –∫–æ–¥–µ')
st.markdown('–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ —Ñ–∞–π–ª –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ  **–ø–∞—Ä–æ–ª–µ–π**.')
st.markdown('–í—Å—Ç–∞–≤—å—Ç–µ —Å—é–¥–∞ :point_down: _—Å—Å—ã–ª–∫—É_ –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ —Ñ–∞–π–ª')
url = st.text_input('dd', '', placeholder='URL', label_visibility="hidden")

if st.button('–ù–∞–π—Ç–∏ –≤—Å–µ –ø–∞—Ä–æ–ª–∏'):
    with st.spinner('–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞—à–∏—Ö —Å–µ–∫—Ä–µ—Ç–∏–∫–æ–≤...'):
            response = request_to_det_sec_API(url)
            st.markdown('**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**')
            if response == '–ù–µ–≤–µ—Ä–Ω—ã–π url, –ª–∏–±–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏–≤–∞—Ç–Ω—ã–º':
                st.error('–ù–µ–≤–µ—Ä–Ω—ã–π URL –∏–ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π', icon="üö®")
            elif response == '–ü—Ä–µ–≤—ã—à–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤':
                st.error('–ü—Ä–µ–≤—ã—à–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤', icon="üö®")
            else:
                st.write(response)
                st.success('–î–µ–ª–æ —Å–¥–µ–ª–∞–Ω–æ', icon="‚úÖ")
